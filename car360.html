<!DOCTYPE html>
<html lang="en">
<head>
<title>three.js webgl - geometry - cube</title>
<meta charset="utf-8">
<style>
body {
margin: 0px;
        background-color: #000000;
overflow: hidden;
}
</style>
</head>
<body>

<script src="refer/three.js/build/three.min.js"></script>
<script src="refer/three.js/examples/js/controls/TrackballControls.js"></script>
<script src="refer/three.js/examples/js/Detector.js"></script>
<script src="refer/three.js/examples/js/libs/stats.min.js"></script>

<script id="vertexShader" type="x-shader/x-vertex">

varying vec2 v_texCoord;

void main() {

  //gl_Position = vec4( position, 1.0 );
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

  v_texCoord = position.xy;


}

</script>

<script id="fragmentShader" type="x-shader/x-fragment">

uniform vec2 resolution;
uniform float time;

uniform sampler2D texture1;

varying vec2 v_texCoord;

void main() {

  gl_FragColor=vec4(vec3(v_texCoord.x,v_texCoord.y,0.),1.);
  float width = 200.;
  vec2 vUv = vec2(v_texCoord.x/width, v_texCoord.y/width);
  gl_FragColor = texture2D(texture1, vUv);

}

</script>


<script>

var camera, scene, controls, renderer;
var mesh;

var uniforms;

init();
animate();

function init() {

  renderer = new THREE.WebGLRenderer();
  renderer.setPixelRatio( window.devicePixelRatio );
  renderer.setSize( window.innerWidth, window.innerHeight );
  document.body.appendChild( renderer.domElement );

  //camera 

  camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000000 );
  camera.position.z = 400;


  // control
  controls = new THREE.TrackballControls( camera );

  controls.rotateSpeed = 1.0;
  controls.zoomSpeed = 1.2;
  controls.panSpeed = 0.8;

  controls.noZoom = false;
  controls.noPan = false;

  controls.staticMoving = true;
  controls.dynamicDampingFactor = 0.3;

  controls.keys = [ 65, 83, 68 ];

  controls.addEventListener( 'change', render );


  // world

  scene = new THREE.Scene();
  // scene.matrixAutoUpdate=false;

  var geometry = new THREE.PlaneGeometry( 120, 120, 1, 1 );

  //var texture = THREE.ImageUtils.loadTexture( 'textures/crate.gif' );
  var texture = THREE.ImageUtils.loadTexture( 'imgs/q.jpg');
  texture.anisotropy = renderer.getMaxAnisotropy();

  //var material = new THREE.MeshBasicMaterial( { map: texture } );
  //var material = new THREE.MeshBasicMaterial( { } );

  uniforms = {
    time: { type: "f", value: 1.0 },
      resolution: { type: "v2", value: new THREE.Vector2() },
      texture1: { type: "t", value: THREE.ImageUtils.loadTexture( "imgs/front.png" ) }
    };

  var material = new THREE.ShaderMaterial( {
      uniforms: uniforms,
      vertexShader: document.getElementById( 'vertexShader' ).textContent,
      fragmentShader: document.getElementById( 'fragmentShader' ).textContent
    } );


  mesh = new THREE.Mesh( geometry, material );
  //mesh = new THREE.Mesh( geometry, null );
  scene.add( mesh );

  //



  window.addEventListener( 'resize', onWindowResize, false );

}

function onWindowResize() {

  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();

  renderer.setSize( window.innerWidth, window.innerHeight );

  controls.handleResize();
  render();

}

function animate() {
 
     requestAnimationFrame( animate );
 
 //  mesh.rotation.x += 0.00;
 //  mesh.rotation.y += .01;
 //  mesh.rotation.z += 0.00;
 
   renderer.render( scene, camera );
 
   controls.update();
 }

function render() {

  renderer.render( scene, camera );

}

</script>

</body>
</html>

